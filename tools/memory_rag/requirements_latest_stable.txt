# MBIE Requirements - Pinned Stable Ecosystem
# Fixed versions to resolve dependency conflicts and ensure reproducibility
# Tested on Python 3.9, 3.10, 3.11

# Core ML dependencies - PINNED for stability
sentence-transformers==2.7.0
chromadb==0.4.22
transformers==4.34.0
huggingface_hub==0.16.4
tokenizers==0.14.0
torch==2.0.1

# Core application dependencies
click==8.1.7
pyyaml==6.0.1
python-dotenv==1.0.0
rich==13.7.0
numpy==1.24.3
tqdm==4.66.1
watchfiles==0.21.0

# Optional dependencies for advanced features
fastapi==0.109.0
uvicorn==0.25.0

# Development dependencies
pytest==7.4.4
pytest-cov==4.1.0
black==23.12.1
ruff==0.1.11
mypy==1.8.0

# Pinning Rationale:
# - sentence-transformers 2.7.0: Last stable before 3.x breaking changes
# - transformers 4.34.0: Minimum version required by sentence-transformers 2.7.0
# - huggingface_hub 0.16.4: Non-yanked version with stable imports
# - chromadb 0.4.22: Stable ChromaDB version without 0.5.x conflicts
# - torch 2.0.1: Stable PyTorch without 2.1+ compatibility issues
#
# Upgrade Path (when ready):
# - Test sentence-transformers 3.3.0+ with transformers 4.46.0+
# - Verify huggingface_hub 0.27.0+ compatibility
# - Update chromadb to 0.5.0+ after testing